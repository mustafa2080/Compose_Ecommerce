# دليل إعداد نظام الأدمن

## 🔐 **بيانات الأدمن الجديدة:**

### **Super Admin:**
```
Email: superadmin@ecommerce.com
Password: SuperAdmin@123456
Role: SUPER_ADMIN
```

### **Admin:**
```
Email: admin@ecommerce.com
Password: Admin@123456
Role: ADMIN
```

### **Test Admin:**
```
Email: test@example.com
Password: 123456
Role: ADMIN (تم تحويله لأدمن)
```

## 🚀 **خطوات إنشاء حساب الأدمن:**

### **الطريقة الأولى: إنشاء حساب جديد**
1. افتح التطبيق
2. اذهب إلى "إنشاء حساب جديد"
3. استخدم أحد الإيميلات أعلاه
4. أدخل كلمة المرور المطابقة
5. سيتم تلقائياً تعيين دور الأدمن

### **الطريقة الثانية: Firebase Console**
1. اذهب إلى Firebase Console
2. اختر Authentication
3. انقر "Add User"
4. أدخل الإيميل وكلمة المرور
5. سيتم تحديد الدور تلقائياً عند أول تسجيل دخول

## 🛠️ **التحسينات المضافة:**

### **في User Model:**
- إضافة `role: UserRole`
- إضافة `isActive: Boolean`
- إضافة `isAdmin` و `isSuperAdmin` properties

### **في FirebaseAuthService:**
- إضافة `determineUserRole()` function
- تحديد دور المستخدم تلقائياً عند التسجيل
- دعم Admin roles في إنشاء الحسابات

### **في Database Rules:**
- السماح للأدمن بتعديل Products و Categories
- حماية البيانات الحساسة
- التحقق من دور المستخدم قبل السماح بالكتابة

## 🔒 **الصلاحيات:**

### **USER (مستخدم عادي):**
- قراءة المنتجات والفئات
- إدارة السلة والمفضلة
- إنشاء الطلبات والمراجعات

### **ADMIN (أدمن):**
- جميع صلاحيات المستخدم العادي
- إضافة/تعديل/حذف المنتجات
- إدارة الفئات والعروض
- مراجعة الطلبات

### **SUPER_ADMIN (سوبر أدمن):**
- جميع صلاحيات الأدمن
- إدارة المستخدمين
- الوصول للإحصائيات
- إعدادات النظام

## 📱 **Admin Screens المتاحة:**
- AdminDashboard
- AdminProducts  
- AdminOrders
- AdminUsers
- AdminAnalytics

## ⚠️ **ملاحظات مهمة:**

1. **كلمات المرور قوية** - تحتوي على أحرف كبيرة وصغيرة وأرقام ورموز
2. **التحقق التلقائي** - يتم تحديد دور المستخدم بناءً على الإيميل
3. **الأمان** - Database rules تحمي البيانات من الوصول غير المصرح
4. **المرونة** - يمكن إضافة إيميلات أدمن جديدة في Constants.kt

## 🔄 **تحديث Database Rules:**

انسخ والصق القواعد المحدثة من `database.rules.json` إلى Firebase Console.

## 🧪 **للاختبار:**

1. سجل دخول بـ `test@example.com` / `123456`
2. تحقق من أن المستخدم أصبح أدمن
3. جرب الوصول لـ Admin screens
4. اختبر إضافة/تعديل المنتجات
